<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>哮天犬Teddy</title>
    <!-- bootstrap 3.0.2 -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <!-- jQuery 2.0.2 -->
    <script src="../../js/jquery.min.js" type="text/javascript"></script>
    <!-- jQuery UI 1.10.3 -->
    <script src="../../js/jquery-ui-1.10.3.min.js" type="text/javascript"></script>
    <!-- Bootstrap -->
    <script src="../../js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../js/checkToken.js" type="text/javascript"></script>

</head>
<body>
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="../taskm/monitor.html">哮天犬Teddy</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li><a href="../taskm/monitor.html">任务监控</a></li>
                <li class="active"><a href="#">任务配置</a></li>
                <li><a href="../jars/resource.html">资源管理</a></li>
                <li><a href="#">系统配置（待开发）</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="panel panel-info" style="margin:20px;">
    <div class="panel-heading">
        <h3 class="panel-title">提交任务</h3>
    </div>
    <div class="panel-body">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label class="col-sm-2 control-label">名字</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2NameInput" type="text"  placeholder="任务名称">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">jar包</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2JarInput" type="text" placeholder="SparkJob的Jar包 例如：Streaming.jar">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">主函数</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2ClassInput" type="text"  placeholder="主函数的路径 例如：com.dbay.teddy.main">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">任务应用ID</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2AppIdInput" type="text" placeholder="仅更新配置时需要 例如：application_1616006606833_39744">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">配置</label>
                <div class="col-sm-10">
                    <table class="table">
                        <tbody>
                        <tr class="warning">
                            <td>Driver内存：spark.driver.memory</td>
                            <td><input class="form-control" id="c2DriverMemory" type="text" value="1g"></td>
                        </tr>
                        <tr class="warning">
                            <td>Executor内存：spark.executor.memory</td>
                            <td><input class="form-control" id="c2ExecutorMemory" type="text" value="1g"></td>
                        </tr>
                        <tr class="warning">
                            <td>Executor核数：spark.executor.cores</td>
                            <td><input class="form-control" id="c2ExecutorCores" type="text" value="1"></td>
                        </tr>
                        <tr class="warning">
                            <td>Executor数量：spark.executor.instances</td>
                            <td><input class="form-control" id="c2ExecutorNums" type="text" value="1"></td>
                        </tr>
                        <tr class="warning">
                            <td>Yarn执行队列：spark.yarn.queue</td>
                            <td><select class="form-control" id="c2YarnQueue">
                                <option value="default">root.default</option>
                                <option value="realtimecollect">root.realtimecollect</option>
                                </select>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">参数</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2ArgsInput" type="text" placeholder="多个参数时用空格隔开">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">告警邮件抄送</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2EmailInput" type="text"  placeholder="邮箱地址（多地址用英文分号‘;’隔开）">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">企业微信机器人</label>
                <div class="col-sm-10">
                    <input class="form-control" id="c2WebhookInput" type="text" placeholder="企业微信机器人（多地址用英文分号‘;’隔开）"
                           value="https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=c1d6b3ea-7c27-4c40-bfaa-3c4ae3991174">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否开启告警功能</label>
                <div class="col-sm-10">
                    <div class="radio">
                        <label>
                            <input type="radio" class="send-email" name="sendRadio" value="1" checked> 启用
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" class="send-email" name="sendRadio" value="0">不启用
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否开启自动重启</label>
                <div class="col-sm-10">
                    <div class="radio">
                        <label>
                            <input type="radio" class="restart" name="restartRadio" value="1"> 启用
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" class="restart" name="restartRadio" value="0" checked>不启用
                        </label>
                    </div>
                </div>
            </div>


            <div class="form-group">
                <label class="col-sm-2 control-label"> </label>
                <div class="col-sm-10">
                    <button type="submit" id="c2SubmitBtn" class="btn btn-default">提交任务</button>
                    <button type="submit" id="c2UpdateBtn" class="btn btn-default">更新配置（需手动重启）</button>
                </div>
            </div>
            
        </form>
    </div>
</div>

<div class="modal fade" id="info_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="info_modal_title">

                </h4>
            </div>
            <div class="modal-body" id="info_modal_body">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                </button>
                <!--<button type="button" class="btn btn-primary">
                    确认
                </button>-->
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script src="submit.js" type="text/javascript"></script>
</body>
</html>
